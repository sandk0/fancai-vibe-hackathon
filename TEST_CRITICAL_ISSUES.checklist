# –ö–†–ò–¢–ò–ß–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø - CHECKLIST

**–°—Ç–∞—Ç—É—Å:** üî¥ URGENT - –¢—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 23 –¥–µ–∫–∞–±—Ä—è 2025
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Testing & QA Team

---

## –ë–õ–û–ö –ê: PRODUCTION CODE –ë–ï–ó –¢–ï–°–¢–û–í (–ö–†–ò–¢–ò–ß–ù–û!)

### A1. Gemini Extractor Service
- [ ] **–§–∞–π–ª:** `backend/app/services/gemini_extractor.py`
- [ ] **–†–∞–∑–º–µ—Ä:** 661 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0% —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ production!)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/backend/tests/services/test_gemini_extractor.py`
  - [ ] –ú–∏–Ω–∏–º—É–º 20 —Ç–µ—Å—Ç–æ–≤
  - [ ] Target: >85% coverage
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: API timeout, invalid key, JSON repair, concurrency
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** ‚úì –í TEST_IMPLEMENTATION_QUICKSTART.md
- [ ] **–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### A2. Imagen Generator Service
- [ ] **–§–∞–π–ª:** `backend/app/services/imagen_generator.py`
- [ ] **–†–∞–∑–º–µ—Ä:** 644 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0% —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô (Google Imagen 4 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/backend/tests/services/test_imagen_generator.py`
  - [ ] –ú–∏–Ω–∏–º—É–º 20 —Ç–µ—Å—Ç–æ–≤
  - [ ] Target: >85% coverage
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: Concurrency, caching, fallback, quota
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** ‚úì –í TEST_IMPLEMENTATION_QUICKSTART.md
- [ ] **–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### A3. VLESS HTTP Client
- [ ] **–§–∞–π–ª:** `backend/app/services/vless_http_client.py`
- [ ] **–†–∞–∑–º–µ—Ä:** 255 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0% —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô (proxy –¥–ª—è image generation)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/backend/tests/services/test_vless_http_client.py`
  - [ ] –ú–∏–Ω–∏–º—É–º 15 —Ç–µ—Å—Ç–æ–≤
  - [ ] Target: >80% coverage
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: Proxy routing, fallback, SSL, timeout
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** ‚úì –í TEST_IMPLEMENTATION_QUICKSTART.md
- [ ] **–í—Ä–µ–º—è:** 1 —á–∞—Å
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### A4. Auth Router
- [ ] **–§–∞–π–ª:** `backend/app/routers/auth.py`
- [ ] **–†–∞–∑–º–µ—Ä:** ~400 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0% endpoint —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô (SECURITY!)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/backend/tests/routers/test_auth.py`
  - [ ] –ú–∏–Ω–∏–º—É–º 20 security —Ç–µ—Å—Ç–æ–≤
  - [ ] Target: >80% coverage
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: SQL injection, rate limiting, token management, 2FA
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** ‚úì –í TEST_IMPLEMENTATION_QUICKSTART.md
- [ ] **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

---

## –ë–õ–û–ö B: ORPHAN TESTS (—Ç–µ—Å—Ç–∏—Ä—É—é—Ç —É–¥–∞–ª—ë–Ω–Ω—ã–π –∫–æ–¥!)

### B1. Multi-NLP Tests (–î–û–õ–ñ–ù–´ –ë–´–¢–¨ –£–î–ê–õ–ï–ù–´)
- [ ] **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `backend/tests/services/nlp/`
- [ ] **–§–∞–π–ª—ã:** 47 —Ñ–∞–π–ª–æ–≤
- [ ] **–†–∞–∑–º–µ—Ä:** ~1,800 LOC
- [ ] **–°—Ç–∞—Ç—É—Å:** –¢–µ—Å—Ç–∏—Ä—É—é—Ç –£–î–ê–õ–Å–ù–ù–´–ô –∫–æ–¥ (Dec 2025)
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ DELETE
- [ ] **–ü–æ—á–µ–º—É —É–¥–∞–ª—è—Ç—å:**
  - [ ] Multi-NLP —Å–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∞ –≤ –¥–µ–∫–∞–±—Ä–µ 2025
  - [ ] –¢–µ—Å—Ç—ã –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã (fake coverage)
  - [ ] –ó–∞–º–µ–¥–ª—è—é—Ç CI/CD (~2-3 –º–∏–Ω—É—Ç—ã)
  - [ ] –ü—É—Ç–∞—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:**
  - [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å: `rm -rf backend/tests/services/nlp/`
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö
  - [ ] Commit: "chore: remove orphan Multi-NLP tests"
- [ ] **–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

**ORPHAN TEST FILES:**
- [ ] test_langextract_processor.py (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç removed library)
- [ ] test_langextract_enricher.py (—É–¥–∞–ª—ë–Ω–Ω—ã–π –∫–æ–¥)
- [ ] test_gliner_processor.py (GLiNER removed)
- [ ] test_stanza_processor.py (Stanza removed)
- [ ] test_natasha_processor.py (Natasha removed)
- [ ] test_spacy_processor.py (SpaCy removed)
- [ ] test_multi_nlp_integration.py (removed system)
- [ ] test_advanced_parser_*.py (4 —Ñ–∞–π–ª–∞, removed)
- [ ] components/test_*.py (3 —Ñ–∞–π–ª–∞, removed)
- [ ] strategies/test_*.py (7 —Ñ–∞–π–ª–æ–≤, removed)
- [ ] utils/test_*.py (4 —Ñ–∞–π–ª–∞, removed)

---

## –ë–õ–û–ö C: FRONTEND –ö–û–ú–ü–û–ù–ï–ù–¢–´ –ë–ï–ó –¢–ï–°–¢–û–í

### C1. Description Highlighting Hook (HIGH PRIORITY!)
- [ ] **–§–∞–π–ª:** `frontend/src/hooks/epub/useDescriptionHighlighting.ts`
- [ ] **–†–∞–∑–º–µ—Ä:** 566 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0 —Ç–µ—Å—Ç–æ–≤
- [ ] **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** HIGH (9 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ–∏—Å–∫–∞)
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–´–ô (core feature!)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/frontend/src/hooks/epub/__tests__/useDescriptionHighlighting.test.ts`
  - [ ] –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö 9 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π:
    - [ ] EXACT_MATCH
    - [ ] FUZZY_MATCH
    - [ ] WORD_BOUNDARY
    - [ ] STEMMING (Russian)
    - [ ] PHONETIC
    - [ ] SEMANTIC
    - [ ] CONTEXT_AWARE
    - [ ] REGEX
    - [ ] MULTI_LANGUAGE
  - [ ] Edge cases: —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, Unicode, –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
  - [ ] Target: >90% coverage
  - [ ] –ú–∏–Ω–∏–º—É–º 30 —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** ‚úì –í TEST_IMPLEMENTATION_QUICKSTART.md
- [ ] **–í—Ä–µ–º—è:** 4-5 —á–∞—Å–æ–≤
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### C2. ImageCache Service
- [ ] **–§–∞–π–ª:** `frontend/src/services/imageCache.ts`
- [ ] **–†–∞–∑–º–µ—Ä:** ~500 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0 —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í–´–°–û–ö–ò–ô (offline support!)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/frontend/src/services/__tests__/imageCache.test.ts`
  - [ ] –¢–µ—Å—Ç—ã –¥–ª—è:
    - [ ] Storage operations (save, retrieve, delete, clear)
    - [ ] Cache management (quota, TTL, auto-cleanup)
    - [ ] Offline support (return cached, sync)
    - [ ] Error handling (quota exceeded, corrupted data)
    - [ ] Concurrency (concurrent access)
  - [ ] Target: >85% coverage
  - [ ] –ú–∏–Ω–∏–º—É–º 15 —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:** ‚úì –í TEST_IMPLEMENTATION_QUICKSTART.md
- [ ] **–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### C3. Library Components
- [ ] **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** BookCard, BookGrid, SearchBar, LibraryHeader, Pagination
- [ ] **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:** ~1,000 —Å—Ç—Ä–æ–∫
- [ ] **–°—Ç–∞—Ç—É—Å:** 0 —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:**
  - [ ] –°–æ–∑–¥–∞—Ç—å tests –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
    - [ ] `/frontend/src/components/Library/__tests__/BookCard.test.tsx`
    - [ ] `/frontend/src/components/Library/__tests__/BookGrid.test.tsx`
    - [ ] `/frontend/src/components/Library/__tests__/SearchBar.test.tsx`
    - [ ] `/frontend/src/components/Library/__tests__/LibraryHeader.test.tsx`
    - [ ] `/frontend/src/components/Library/__tests__/Pagination.test.tsx`
  - [ ] –ö–∞–∂–¥—ã–π: rendering, interactions, accessibility
  - [ ] Target: >80% coverage
  - [ ] Total: 25 —Ç–µ—Å—Ç–æ–≤
- [ ] **–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

---

## –ë–õ–û–ö D: –ù–ï–ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï –ö–†–ò–¢–ò–ß–ù–´–• –°–ï–†–í–ò–°–û–í

### D1. Book Parser Service
- [ ] **–§–∞–π–ª:** `backend/app/services/book_parser.py`
- [ ] **–†–∞–∑–º–µ—Ä:** 925 —Å—Ç—Ä–æ–∫
- [ ] **–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** ~60%
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô
- [ ] **Missing edge cases:**
  - [ ] Empty EPUB file
  - [ ] Corrupted CFI
  - [ ] Very large chapters (>10MB)
  - [ ] Chapters with only images
  - [ ] Cyrillic + emoji handling
  - [ ] Malformed HTML
  - [ ] Missing cover image
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å 10-15 edge case —Ç–µ—Å—Ç–æ–≤
- [ ] **Target:** >80% coverage
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### D2. LangExtract Processor (UPDATE –¥–ª—è v2!)
- [ ] **–§–∞–π–ª:** `backend/app/services/langextract_processor.py`
- [ ] **–í–µ—Ä—Å–∏—è:** v2 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Gemini API)
- [ ] **–¢–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã:** ‚úì –ï—Å—Ç—å (–Ω–æ –¥–ª—è v1!)
- [ ] **–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Mock –¥–ª—è LangExtract lib (—É–¥–∞–ª–µ–Ω–∞)
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:**
  - [ ] –û–±–Ω–æ–≤–∏—Ç—å `/backend/tests/services/nlp/test_langextract_processor.py`
  - [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –¥–ª—è –Ω–æ–≤–æ–π v2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Gemini API)
  - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ API mocks
  - [ ] –î–æ–±–∞–≤–∏—Ç—å test –¥–ª—è JSON repair
  - [ ] –î–æ–±–∞–≤–∏—Ç—å tests –¥–ª—è recursive chunking
- [ ] **Target:** >85% coverage
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

---

## –ë–õ–û–ö E: MISSING ROUTER TESTS

### E1. Admin Routers (8 endpoints)
- [ ] **–§–∞–π–ª—ã:**
  - [ ] `backend/app/routers/admin/cache.py` - 0 —Ç–µ—Å—Ç–æ–≤
  - [ ] `backend/app/routers/admin/images.py` - 0 —Ç–µ—Å—Ç–æ–≤
  - [ ] `backend/app/routers/admin/parsing.py` - 0 —Ç–µ—Å—Ç–æ–≤
  - [ ] `backend/app/routers/admin/reading_sessions.py` - 0 —Ç–µ—Å—Ç–æ–≤
  - [ ] `backend/app/routers/admin/stats.py` - 0 —Ç–µ—Å—Ç–æ–≤
  - [ ] `backend/app/routers/admin/system.py` - 0 —Ç–µ—Å—Ç–æ–≤
  - [ ] `backend/app/routers/admin/users.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–´–°–û–ö–ò–ô
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:**
  - [ ] –°–æ–∑–¥–∞—Ç—å `/backend/tests/routers/test_admin_*.py`
  - [ ] –¢–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint
  - [ ] Authorization checks
  - [ ] Error handling
- [ ] **Target:** >75% coverage
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### E2. Other Routes (missing)
- [ ] `backend/app/routers/health.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] `backend/app/routers/images.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] `backend/app/routers/users.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] `backend/app/routers/books/crud.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] `backend/app/routers/books/processing.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] `backend/app/routers/books/validation.py` - 0 —Ç–µ—Å—Ç–æ–≤
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° MEDIUM
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

---

## –ë–õ–û–ö F: TEST QUALITY IMPROVEMENTS

### F1. Fix Flaky Async Tests
- [ ] **–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio.sleep()` –≤–º–µ—Å—Ç–æ proper timeout
- [ ] **–§–∞–π–ª—ã:** `test_book_parser.py`, `test_reading_sessions_load.py`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:**
  - [ ] –ó–∞–º–µ–Ω–∏—Ç—å `await asyncio.sleep(0.5)` –Ω–∞ `async with asyncio.timeout()`
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### F2. Improve Mock Management
- [ ] **–ü—Ä–æ–±–ª–µ–º–∞:** Mock leaks –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
- [ ] **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pytest fixtures –≤–º–µ—Å—Ç–æ @patch
- [ ] **–§–∞–π–ª—ã:** `test_image_generator.py`, NLP tests
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

### F3. Add More Assertions
- [ ] **–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç—ã –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —É–ø–∞–ª–∞
- [ ] **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å assertions –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, —Ç–∏–ø–æ–≤, –∑–Ω–∞—á–µ–Ω–∏–π
- [ ] **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° MEDIUM
- [ ] **Status:** [ ] NOT STARTED [ ] IN PROGRESS [ ] COMPLETED

---

## SUMMARY –¢–ê–ë–õ–ò–¶–ê

| –ë–ª–æ–∫ | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª—ã | –°—Ç–∞—Ç—É—Å | –í—Ä–µ–º—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|----------|-------|--------|-------|-----------|
| A1 | Gemini (0 —Ç–µ—Å—Ç–æ–≤) | 1 | ‚ùå | 2-3—á | üî¥ CRITICAL |
| A2 | Imagen (0 —Ç–µ—Å—Ç–æ–≤) | 1 | ‚ùå | 2-3—á | üî¥ CRITICAL |
| A3 | VLESS (0 —Ç–µ—Å—Ç–æ–≤) | 1 | ‚ùå | 1—á | üü° HIGH |
| A4 | Auth (0 —Ç–µ—Å—Ç–æ–≤) | 1 | ‚ùå | 2—á | üî¥ CRITICAL |
| B1 | Multi-NLP delete | 47 | ‚ùå | 15–º | üî¥ DELETE |
| C1 | Highlighting (0 —Ç–µ—Å—Ç–æ–≤) | 1 | ‚ùå | 4-5—á | üî¥ CRITICAL |
| C2 | ImageCache (0 —Ç–µ—Å—Ç–æ–≤) | 1 | ‚ùå | 1-2—á | üî¥ HIGH |
| C3 | Components (0 —Ç–µ—Å—Ç–æ–≤) | 5+ | ‚ùå | 2-3—á | üü° HIGH |
| D1 | Parser incomplete | 1 | ‚ö† | 1-2—á | üü° HIGH |
| D2 | LangExtract update | 1 | ‚ö† | 2-3—á | üü° HIGH |
| E | Admin routes | 7+ | ‚ùå | 3-4—á | üü° MEDIUM |
| F | Quality improvements | 10+ | ‚ö† | 2-3—á | üü° MEDIUM |
| **TOTAL** | | **~80** | | **25-35—á** | |

---

## TIMELINE –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô

### –î–ï–ù–¨ 1 (–°–ï–ì–û–î–ù–Ø)
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ 3 –∞–Ω–∞–ª–∏–∑-–¥–æ–∫—É–º–µ–Ω—Ç–∞ (1-2 —á–∞—Å–∞)
- [ ] –£—Ç–≤–µ—Ä–¥–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ orphan tests (1 –º–∏–Ω—É—Ç–∞)
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤ (0.5 —á–∞—Å–∞)

### –î–ï–ù–¨ 2-3
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å test_gemini_extractor.py (3 —á–∞—Å–∞)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å test_imagen_generator.py (3 —á–∞—Å–∞)
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç (1 —á–∞—Å)

### –î–ï–ù–¨ 4
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å test_vless_http_client.py (1 —á–∞—Å)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å test_auth.py (2 —á–∞—Å–∞)
- [ ] –£–¥–∞–ª–∏—Ç—å orphan tests (15 –º–∏–Ω—É—Ç)

### –î–ï–ù–¨ 5-6
- [ ] useDescriptionHighlighting.test.ts (4-5 —á–∞—Å–æ–≤)
- [ ] imageCache.test.ts (1-2 —á–∞—Å–∞)

### –î–ï–ù–¨ 7
- [ ] Library components tests (2-3 —á–∞—Å–∞)
- [ ] Final polish –∏ review

### –ù–ï–î–ï–õ–Ø 2-3
- [ ] Update LangExtract v2 tests
- [ ] Admin routers tests
- [ ] Fix flaky tests
- [ ] Integration tests

---

## QUICK START

### –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã (5 –º–∏–Ω—É—Ç)
```bash
# Preisolated test code from TEST_IMPLEMENTATION_QUICKSTART.md
# Just copy-paste into new files
```

### –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã (2 –º–∏–Ω—É—Ç—ã)
```bash
touch backend/tests/services/test_gemini_extractor.py
touch backend/tests/services/test_imagen_generator.py
touch backend/tests/services/test_vless_http_client.py
touch backend/tests/routers/test_auth.py
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å (1 –º–∏–Ω—É—Ç–∞)
```bash
cd backend
pytest tests/services/test_gemini_extractor.py -v
```

### –£–¥–∞–ª–∏—Ç—å orphans (15 —Å–µ–∫—É–Ω–¥)
```bash
rm -rf backend/tests/services/nlp/
```

---

## –î–û–ö–£–ú–ï–ù–¢–´ –î–õ–Ø –°–ü–†–ê–í–ö–ò

1. **DEEP_TEST_ANALYSIS.md** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏
2. **TEST_IMPLEMENTATION_QUICKSTART.md** - Copy-paste –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
3. **TEST_AUDIT_SUMMARY.md** - –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –æ–±–∑–æ—Ä
4. **TEST_CRITICAL_ISSUES.checklist** - –≠—Ç–æ—Ç —Ñ–∞–π–ª

---

## –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –ø–æ –≥—Ä–∞—Ñ–∏–∫—É
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] Code review –¥–ª—è PR

**–î–ª—è QA:**
- [ ] –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å coverage metrics
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ flaky tests

**–î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤:**
- [ ] –£—Ç–≤–µ—Ä–¥–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
- [ ] –í—ã–¥–µ–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã
- [ ] Track progress

---

## –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

–í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏, –∫–æ–≥–¥–∞:

```bash
# Backend
pytest --cov=app --cov-fail-under=75  # ‚úì PASS
pytest --cov=app.services.gemini_extractor --cov-report=term | grep ">85"  # ‚úì YES
pytest --cov=app.services.imagen_generator --cov-report=term | grep ">85"  # ‚úì YES

# Frontend
npm test -- --coverage  # ‚úì >60% for new tests
ls -la frontend/src/hooks/epub/__tests__/useDescriptionHighlighting.test.ts  # ‚úì EXISTS

# Orphans deleted
ls backend/tests/services/nlp/ 2>&1 | grep "No such"  # ‚úì NOT FOUND

# All pass
pytest -x  # ‚úì NO FAILURES
npm test   # ‚úì NO FAILURES
```

---

**–ù–ê–ß–ù–ò–¢–ï –° GEMINI EXTRACTOR - –°–ê–ú–´–ô –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ô –°–ï–†–í–ò–°!**

–ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≤ TEST_IMPLEMENTATION_QUICKSTART.md
