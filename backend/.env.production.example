# BookReader AI - Backend Production Environment Variables
#
# ⚠️  SECURITY WARNING ⚠️
# - This is a TEMPLATE file with placeholder values
# - DO NOT commit actual secrets to git!
# - Copy to .env.production and replace all CHANGE_ME values
# - Generate strong secrets using the provided script:
#   bash scripts/generate-production-secrets.sh
#

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=BookReader AI
APP_VERSION=0.1.0
ENVIRONMENT=production
DEBUG=false

# =============================================================================
# SECURITY KEYS (CRITICAL!)
# =============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32
JWT_SECRET_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32
JWT_ALGORITHM=HS256

# Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://bookreader_user:CHANGE_ME_DB_PASSWORD@postgres:5432/bookreader_prod

# Connection pool settings
MAX_CONNECTIONS_COUNT=20
MIN_CONNECTIONS_COUNT=5

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis:6379/0
REDIS_CACHE_ENABLED=true
REDIS_CACHE_DEFAULT_TTL=3600

# =============================================================================
# ADMIN CREDENTIALS
# =============================================================================
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD_MIN_12_CHARS

# =============================================================================
# CORS AND SECURITY
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# =============================================================================
# FILE UPLOADS
# =============================================================================
MAX_UPLOAD_SIZE=52428800
UPLOAD_DIRECTORY=./uploads
ALLOWED_EXTENSIONS=.epub,.fb2

# =============================================================================
# AI SERVICES
# =============================================================================
POLLINATIONS_ENABLED=true
POLLINATIONS_BASE_URL=https://image.pollinations.ai

# Optional AI services
OPENAI_API_KEY=
MIDJOURNEY_API_KEY=

# =============================================================================
# PAYMENT SYSTEMS (Optional)
# =============================================================================
YOOKASSA_SHOP_ID=
YOOKASSA_SECRET_KEY=
CLOUDPAYMENTS_PUBLIC_ID=

# =============================================================================
# NLP SETTINGS
# =============================================================================
SPACY_MODEL=ru_core_news_lg
NLTK_DATA_PATH=./nltk_data

# =============================================================================
# SUBSCRIPTION LIMITS
# =============================================================================
FREE_BOOKS_LIMIT=3
FREE_GENERATIONS_LIMIT=50
PREMIUM_BOOKS_LIMIT=50
PREMIUM_GENERATIONS_LIMIT=500

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO

# =============================================================================
# MONITORING (Optional)
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD
SLACK_WEBHOOK_URL=

# =============================================================================
# NOTES
# =============================================================================
# 1. Generate all secrets using: bash scripts/generate-production-secrets.sh
# 2. Store actual .env.production in secure location (1Password, AWS Secrets Manager, etc.)
# 3. Never commit .env.production to git
# 4. Use different secrets for staging and production
# 5. Rotate secrets regularly (every 90 days recommended)
# 6. Minimum password length: 12 characters with complexity requirements
# 7. Use strong database and Redis passwords (min 32 chars random)
