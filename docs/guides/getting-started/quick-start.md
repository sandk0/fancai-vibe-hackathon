# Руководство по быстрому старту

Запустите BookReader AI всего за 5 минут.

## Требования

Перед началом убедитесь, что у вас установлено:
- [Docker Desktop](https://www.docker.com/products/docker-desktop)
- [Git](https://git-scm.com/downloads)
- 4GB+ доступной оперативной памяти
- 5GB+ свободного места на диске

## 5-минутная настройка

### Шаг 1: Клонирование репозитория (30 секунд)

```bash
git clone <repository-url>
cd fancai-vibe-hackathon
```

### Шаг 2: Настройка окружения (1 минута)

```bash
# Копирование шаблона окружения
cp .env.example .env

# Генерация секретного ключа
openssl rand -hex 32

# Редактирование .env и установка SECRET_KEY
nano .env
```

**Минимальная конфигурация .env:**
```bash
# Обязательные параметры
SECRET_KEY=<your-generated-key>
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/bookreader
REDIS_URL=redis://redis:6379

# AI сервис (бесплатный)
POLLINATIONS_ENABLED=true
```

### Шаг 3: Запуск приложения (3 минуты)

```bash
# Запуск всех сервисов
docker-compose up -d

# Ожидание запуска сервисов (около 2-3 минут)
# Просмотр прогресса:
docker-compose logs -f backend
```

### Шаг 4: Проверка установки (30 секунд)

```bash
# Проверка здоровья backend
curl http://localhost:8000/health
# Ожидается: {"status": "healthy"}

# Проверка frontend
open http://localhost:5173
# Или откройте в браузере
```

### Шаг 5: Создание администраторского аккаунта (30 секунд)

```bash
# Доступ к контейнеру backend
docker-compose exec backend bash

# Создание суперпользователя
python -m app.scripts.create_superuser
# Следуйте подсказкам для создания аккаунта

# Выход из контейнера
exit
```

## Быстрый тест

### Загрузка первой книги

1. **Открыть приложение**
   - Перейти на http://localhost:5173
   - Войти с учетными данными администратора

2. **Загрузить книгу**
   - Нажать кнопку "Загрузить книгу"
   - Выбрать EPUB файл
   - Дождаться загрузки (2-5 секунд)

3. **Дождаться обработки**
   - Парсинг книги запускается автоматически
   - Наблюдать за индикатором прогресса
   - Занимает ~10-30 секунд в зависимости от размера книги

4. **Начать чтение**
   - Нажать "Открыть книгу"
   - Описания автоматически подсвечиваются
   - Кликнуть на подсвеченный текст для просмотра сгенерированных изображений

## Что запущено?

После выполнения `docker-compose up -d` у вас работают:

| Сервис | Порт | Описание |
|---------|------|----------|
| Frontend | 5173 | React приложение |
| Backend | 8000 | FastAPI сервер |
| PostgreSQL | 5432 | База данных |
| Redis | 6379 | Кэш и очередь задач |
| Celery Worker | - | Фоновые задачи |

## Основные команды

```bash
# Просмотр логов
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f celery-worker

# Перезапуск сервиса
docker-compose restart backend

# Остановка всех сервисов
docker-compose down

# Повторный запуск
docker-compose up -d

# Чистый перезапуск (удаляет данные!)
docker-compose down -v
docker-compose up -d
```

## Что дальше?

### Для пользователей

- [Загрузка первой книги](first-book.md) - Подробное руководство
- [Руководство пользователя](user-manual.md) - Полное описание функций
- [FAQ](../../../FAQ.md) - Часто задаваемые вопросы

### Для разработчиков

- [Руководство по установке](installation.md) - Детальная настройка
- [Процесс разработки](../development/workflow.md) - Как внести вклад
- [Руководство по тестированию](../testing/testing-guide.md) - Запуск тестов
- [Руководство для контрибьюторов](../../../CONTRIBUTING.md) - Правила участия

## Решение проблем

### Сервисы не запускаются

```bash
# Проверка доступности портов
lsof -i :8000
lsof -i :5173

# Проверка работы Docker
docker ps

# Просмотр подробных логов
docker-compose logs
```

### Не удается подключиться к Backend

```bash
# Перезапуск backend
docker-compose restart backend

# Ожидание 10 секунд
sleep 10

# Проверка соединения
curl http://localhost:8000/health
```

### Отсутствуют NLP модели

```bash
# Вход в контейнер backend
docker-compose exec backend bash

# Загрузка моделей
python -m spacy download ru_core_news_lg
python -c "import stanza; stanza.download('ru')"

# Выход и перезапуск
exit
docker-compose restart backend
```

### Дополнительная помощь

- [Руководство по решению проблем](../../../TROUBLESHOOTING.md) - Полное руководство
- [FAQ](../../../FAQ.md) - Часто задаваемые вопросы
- [GitHub Issues](https://github.com/your-org/fancai-vibe-hackathon/issues) - Сообщить о баге

## Быстрая справка

### URL-адреса

- **Frontend:** http://localhost:5173
- **Backend API:** http://localhost:8000
- **API документация:** http://localhost:8000/docs
- **API Redoc:** http://localhost:8000/redoc

### Учетные данные по умолчанию (разработка)

- **Имя пользователя:** admin@example.com
- **Пароль:** Установлен при создании суперпользователя

### Переменные окружения

См. [.env.example](.env.example) для всех доступных опций.

**Обязательные:**
- `SECRET_KEY` - секрет JWT (32+ символов)
- `DATABASE_URL` - подключение PostgreSQL
- `REDIS_URL` - подключение Redis

**Опциональные:**
- `OPENAI_API_KEY` - для генерации изображений DALL-E
- `DEBUG` - включить режим отладки (по умолчанию: false)

## Обзор архитектуры

```
┌─────────────┐     ┌──────────────┐     ┌─────────────┐
│   Браузер   │────▶│   Frontend   │────▶│   Backend   │
│  (Клиент)   │     │   (React)    │     │  (FastAPI)  │
└─────────────┘     └──────────────┘     └─────────────┘
                                                 │
                          ┌──────────────────────┼────────────────┐
                          │                      │                │
                    ┌─────▼─────┐         ┌─────▼─────┐   ┌─────▼─────┐
                    │PostgreSQL │         │   Redis   │   │  Celery   │
                    │    (БД)   │         │   (Кэш)   │   │ (Воркеры) │
                    └───────────┘         └───────────┘   └───────────┘
```

## Доступные функции после настройки

- Аутентификация пользователей (JWT)
- Загрузка книг (EPUB, FB2)
- Автоматический NLP парсинг
- AI генерация изображений
- Интерфейс чтения с CFI позиционированием
- Умная подсветка описаний
- Отслеживание прогресса
- Темная/светлая темы

## Ожидаемая производительность

| Операция | Время |
|----------|-------|
| Загрузка книги | 2-5с |
| Парсинг книги | 10-30с |
| Генерация изображения | 5-15с на изображение |
| Загрузка страницы | <2с |

## Следующие шаги

1. **Изучить функции**
   - Загрузить книги разных форматов
   - Попробовать разные режимы NLP (панель администратора)
   - Настроить параметры чтения

2. **Разработка**
   - Прочитать [Процесс разработки](../development/workflow.md)
   - Изучить [Руководство для контрибьюторов](../../../CONTRIBUTING.md)
   - Запустить тесты: `cd backend && pytest`

3. **Production развертывание**
   - См. [Руководство по Production развертыванию](../deployment/production-deployment.md)
   - Настроить SSL сертификаты
   - Настроить мониторинг

## Поддержка

- **Документация:** [docs/](../../README.md)
- **FAQ:** [FAQ.md](../../../FAQ.md)
- **Решение проблем:** [TROUBLESHOOTING.md](../../../TROUBLESHOOTING.md)
- **Вопросы:** [GitHub Issues](https://github.com/your-org/fancai-vibe-hackathon/issues)

---

**Поздравляем!** BookReader AI теперь запущен локально.

Для подробной документации см. [Индекс документации](../../README.md).

**Последнее обновление:** 14 ноября 2025
