# –ê–ù–ê–õ–ò–ó –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê MULTI-NLP –°–ò–°–¢–ï–ú–´

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-10-24
**–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω:** Multi-NLP System Expert Agent
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 1.0 (–¢–µ–∫—É—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 2171 –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞ 4 —Å–µ–∫—É–Ω–¥—ã)

---

## –†–µ–∑—é–º–µ

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** 2,809 —Å—Ç—Ä–æ–∫ –≤ 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 2171 –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞ 4 —Å–µ–∫—É–Ω–¥—ã (~542 –æ–ø–∏—Å–∞–Ω–∏–π/—Å–µ–∫) ‚úÖ –û–¢–õ–ò–ß–ù–û
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Manager pattern —Å 3 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏ (SpaCy, Natasha, Stanza)
- **–†–µ–∂–∏–º—ã:** 5 —Ä–µ–∂–∏–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (SINGLE, PARALLEL, SEQUENTIAL, ENSEMBLE, ADAPTIVE)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:** 3 –æ—Å–Ω–æ–≤–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 5 –≤—ã—Å–æ–∫–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** –°—Ä–µ–¥–Ω–µ–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ–¥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è –∏ –ª—É—á—à–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è)

### –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã
1. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –û–¢–õ–ò–ß–ù–ê–Ø** - 542 –æ–ø–∏—Å–∞–Ω–∏–π/—Å–µ–∫
2. ‚ö†Ô∏è **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** - ~40% –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
3. ‚ö†Ô∏è **–°–ª–æ–∂–Ω—ã–π Manager** - multi_nlp_manager.py –∏–º–µ–µ—Ç 627 —Å—Ç—Ä–æ–∫, —Ç—Ä–µ–±—É–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
4. ‚ö†Ô∏è **–°–ª–∞–±–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è** - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –Ω–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
5. ‚úÖ **Ensemble Voting** - –•–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å weighted consensus
6. ‚ö†Ô∏è **–ü—Ä–æ–±–µ–ª –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏** - –¢–æ–ª—å–∫–æ 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞, –Ω–µ—Ç dedicated multi-NLP —Ç–µ—Å—Ç–æ–≤

---

## 1. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1.1 –¢–µ–∫—É—â–∏–π –¥–∏–∑–∞–π–Ω

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
backend/app/services/
‚îú‚îÄ‚îÄ multi_nlp_manager.py        (627 —Å—Ç—Ä–æ–∫) - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ nlp_processor.py            (567 —Å—Ç—Ä–æ–∫) - –°–¢–ê–†–´–ô legacy –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä (DEPRECATED)
‚îú‚îÄ‚îÄ enhanced_nlp_system.py      (610 —Å—Ç—Ä–æ–∫) - SpaCy –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä + –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îú‚îÄ‚îÄ natasha_processor.py        (486 —Å—Ç—Ä–æ–∫) - Natasha –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
‚îî‚îÄ‚îÄ stanza_processor.py         (519 —Å—Ç—Ä–æ–∫) - Stanza –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
```

#### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**1. MultiNLPManager (627 —Å—Ç—Ä–æ–∫)**
- **–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:**
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏
  - –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ (5 —Ä–µ–∂–∏–º–æ–≤)
  - Ensemble voting –∏ consensus
  - Adaptive –≤—ã–±–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **–ü—Ä–æ–±–ª–µ–º—ã:**
  - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (God Object antipattern)
  - –ú–µ—Ç–æ–¥—ã —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ >100 —Å—Ç—Ä–æ–∫)
  - –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**2. EnhancedNLPProcessor (–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)**
- **–•–æ—Ä–æ—à–µ–µ:**
  - –ß—ë—Ç–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - –†–∞—Å—á—ë—Ç quality score
- **–ü—Ä–æ–±–ª–µ–º—ã:**
  - –ù–µ –≤—Å–µ –º–µ—Ç–æ–¥—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤ –ø–æ–¥–∫–ª–∞—Å—Å–∞—Ö
  - –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç type hints –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö

**3. –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤**
- **SpaCy:** 610 —Å—Ç—Ä–æ–∫ (—Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π)
- **Natasha:** 486 —Å—Ç—Ä–æ–∫
- **Stanza:** 519 —Å—Ç—Ä–æ–∫
- **–ü—Ä–æ–±–ª–µ–º—ã:**
  - ~40% –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è, –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞)
  - –†–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
  - –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1.2 –†–µ–∂–∏–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
class ProcessingMode(Enum):
    SINGLE = "single"           # –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
    PARALLEL = "parallel"       # –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    SEQUENTIAL = "sequential"   # –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
    ENSEMBLE = "ensemble"       # Voting —Å consensus
    ADAPTIVE = "adaptive"       # –ê–≤—Ç–æ-–≤—ã–±–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–∞
```

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ –•–æ—Ä–æ—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–∞ –ø–æ manager
- ‚ö†Ô∏è –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö strategy –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è —Ä–µ–∂–∏–º–æ–≤
- üí° **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:** Strategy Pattern –¥–ª—è —Ä–µ–∂–∏–º–æ–≤

### 1.3 Ensemble Voting –ª–æ–≥–∏–∫–∞

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—Å—Ç—Ä–æ–∫–∏ 487-511):**
```python
def _ensemble_voting(self, processor_results: Dict[str, List[Dict[str, Any]]]) -> List[Dict[str, Any]]:
    # –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –≤–µ—Å–∞–º–∏
    # –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ consensus threshold (0.6)
    # –ü–æ–≤—ã—à–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ consensus
```

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ **–•–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω** —Å weighted consensus
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π threshold (0.6 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ –û–±–æ–≥–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
- ‚ö†Ô∏è –ñ—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ manager (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–≤–ª–µ–∫–∞–µ–º—ã–º)
- ‚ö†Ô∏è –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è voting –ª–æ–≥–∏–∫–∏

---

## 2. –ü—Ä–æ–±–ª–µ–º—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

### 2.1 –ì–æ—Ä—è—á–∏–µ —Ç–æ—á–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

#### Multi-NLP Manager (multi_nlp_manager.py)

**–ú–µ—Ç–æ–¥—ã >50 —Å—Ç—Ä–æ–∫:**
1. `initialize()` - 95 —Å—Ç—Ä–æ–∫ (71-96)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∏, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - **Cyclomatic Complexity:** ~8
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–≤–ª–µ—á—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

2. `_load_processor_configs()` - 54 —Å—Ç—Ä–æ–∫–∏ (97-150)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–∏–≥–∏ –¥–ª—è –≤—Å–µ—Ö 3 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
   - **Cyclomatic Complexity:** ~6
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–≤–ª–µ—á—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤

3. `extract_descriptions()` - 44 —Å—Ç—Ä–æ–∫–∏ (241-287)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –†–æ—É—Ç–∏–Ω–≥ —Ä–µ–∂–∏–º–æ–≤ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - **Cyclomatic Complexity:** ~7
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Strategy Pattern

4. `_adaptive_processor_selection()` - 26 —Å—Ç—Ä–æ–∫ (306-331)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –≠–≤—Ä–∏—Å—Ç–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞
   - **Cyclomatic Complexity:** ~5
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–≤–ª–µ—á—å –≤ TextAnalyzer –∫–ª–∞—Å—Å

5. `_ensemble_voting()` - 25 —Å—Ç—Ä–æ–∫ (487-511)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** Voting –ª–æ–≥–∏–∫–∞ —Å–º–µ—à–∞–Ω–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
   - **Cyclomatic Complexity:** ~4
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–≤–ª–µ—á—å –≤ EnsembleVotingStrategy

#### SpaCy Processor (enhanced_nlp_system.py)

**–ú–µ—Ç–æ–¥—ã >80 —Å—Ç—Ä–æ–∫:**
1. `extract_descriptions()` - 42 —Å—Ç—Ä–æ–∫–∏ (232-270)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç 4 –º–µ—Ç–æ–¥–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ë–æ–ª–µ–µ —á–∏—Å—Ç–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

2. `_extract_entity_descriptions()` - 43 —Å—Ç—Ä–æ–∫–∏ (272-314)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** Entity mapping + –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–≤–ª–µ—á—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã

3. `_extract_fallback_descriptions()` - 36 —Å—Ç—Ä–æ–∫ (316-349)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** Fallback –ª–æ–≥–∏–∫–∞ –∫–æ–≥–¥–∞ NER –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Ç–¥–µ–ª—å–Ω–∞—è FallbackStrategy

4. `_extract_pattern_descriptions()` - 40 —Å—Ç—Ä–æ–∫ (374-413)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** Pattern matching –ª–æ–≥–∏–∫–∞
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** PatternExtractor –∫–ª–∞—Å—Å

5. `_extract_contextual_descriptions()` - 48 —Å—Ç—Ä–æ–∫ (415-462)
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ContextualAnalyzer –∫–ª–∞—Å—Å

### 2.2 –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

#### –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –±–ª–æ–∫–∏ –∫–æ–¥–∞:

**1. –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (~90% —Å—Ö–æ–¥—Å—Ç–≤–∞ –≤–æ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö)**
```python
# enhanced_nlp_system.py (—Å—Ç—Ä–æ–∫–∏ 93-99)
def _clean_text(self, text: str) -> str:
    text = re.sub(r'\s+', ' ', text)
    text = re.sub(r'[^\w\s\.\,\!\?\;\:\-\‚Äî\¬´\¬ª\"\'\(\)\[\]]', '', text)
    return text.strip()

# natasha_processor.py - –ò–î–ï–ù–¢–ò–ß–ù–û
# stanza_processor.py - –ò–î–ï–ù–¢–ò–ß–ù–û
# nlp_processor.py - –ü–û–•–û–ñ–ï (—Å—Ç—Ä–æ–∫–∏ 61-67)
```
**–í–ª–∏—è–Ω–∏–µ:** 4 –∫–æ–ø–∏–∏ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–¥–∞
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –æ–±—â–∏–π utility –º–æ–¥—É–ª—å

**2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π (~80% —Å—Ö–æ–¥—Å—Ç–≤–∞)**
```python
# –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –∏–º–µ—é—Ç –ø–æ—Ö–æ–∂—É—é –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
# - enhanced_nlp_system.py: _filter_and_enhance_descriptions() (—Å—Ç—Ä–æ–∫–∏ 588-610)
# - natasha_processor.py: _filter_and_prioritize_descriptions() (—Å—Ç—Ä–æ–∫–∏ 457-486)
# - stanza_processor.py: _filter_and_prioritize_descriptions() (—Å—Ç—Ä–æ–∫–∏ 493-519)
```
**–í–ª–∏—è–Ω–∏–µ:** ~100 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò–∑–≤–ª–µ—á—å –≤ DescriptionFilter –∫–ª–∞—Å—Å

**3. –†–∞—Å—á—ë—Ç Quality Score (~70% —Å—Ö–æ–¥—Å—Ç–≤–∞)**
```python
# –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç _calculate_quality_score() (—Å—Ç—Ä–æ–∫–∏ 116-131)
# Manager –∏–º–µ–µ—Ç –ø–æ—Ö–æ–∂—É—é –ª–æ–≥–∏–∫—É –≤ _calculate_entity_confidence()
# –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏–º–µ–µ—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏
```
**–í–ª–∏—è–Ω–∏–µ:** –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞—Å—á—ë—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ QualityScorer –∫–ª–∞—Å—Å–µ

**4. Mapping —Ç–∏–ø–æ–≤ –æ–ø–∏—Å–∞–Ω–∏–π (~85% —Å—Ö–æ–¥—Å—Ç–≤–∞)**
```python
# –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –º–∞–ø–ø—è—Ç —Ç–∏–ø—ã entity –≤ —Ç–∏–ø—ã –æ–ø–∏—Å–∞–Ω–∏–π:
# - SpaCy: _map_entity_to_description_type() (—Å—Ç—Ä–æ–∫–∏ 489-498)
# - Natasha: _map_natasha_entity_to_description_type() (—Å—Ç—Ä–æ–∫–∏ 324-331)
# - Stanza: _map_stanza_entity_to_description_type() (—Å—Ç—Ä–æ–∫–∏ 355-363)
```
**–í–ª–∏—è–Ω–∏–µ:** 3 –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±—â–∏–π DescriptionTypeMapper –∫–ª–∞—Å—Å

### 2.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ Try-catch –±–ª–æ–∫–∏ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç—è—Ö
- ‚ö†Ô∏è –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç logger.error, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ print)
- ‚ö†Ô∏è –ù–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è generic Exception)
- ‚ö†Ô∏è –ú–æ–ª—á–∞–ª–∏–≤—ã–µ –æ—à–∏–±–∫–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π:
  - `NLPProcessorError`
  - `ProcessorInitializationError`
  - `ProcessingTimeoutError`
  - `EnsembleVotingError`

### 2.4 –ü—Ä–∞–∫—Ç–∏–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≤—Å–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ
- ‚ö†Ô∏è –°–º–µ—à–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `logger` –∏ `print()`
- ‚ö†Ô∏è –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (book_id, chapter_id)

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–±–ª–µ–º:**
```python
# nlp_processor.py (—Å—Ç—Ä–æ–∫–∞ 45)
print(f"‚úÖ NLP settings loaded: {settings}")  # –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger

# enhanced_nlp_system.py (—Å—Ç—Ä–æ–∫–∞ 160)
logger.info(f"Loading spaCy model: {model_name}")  # –•–æ—Ä–æ—à–æ

# natasha_processor.py (—Å—Ç—Ä–æ–∫–∞ 256)
logger.warning(f"Syntax analysis failed: {e}")  # –•–æ—Ä–æ—à–æ

# stanza_processor.py (—Å—Ç—Ä–æ–∫–∞ 71)
logger.warning(f"Stanza model not available locally: {download_error}")  # –•–æ—Ä–æ—à–æ
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ `logger`
- –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤ (DEBUG, INFO, WARNING, ERROR)

---

## 3. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 3.1 –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**Benchmark (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- **–í—Å–µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏–π:** 2,171
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** 4 —Å–µ–∫—É–Ω–¥—ã
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** ~542 –æ–ø–∏—Å–∞–Ω–∏–π/—Å–µ–∫—É–Ω–¥—É
- **–ö–∞—á–µ—Å—Ç–≤–æ:** >70% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π ‚úÖ

**–ê–Ω–∞–ª–∏–∑:**
‚úÖ **–û–¢–õ–ò–ß–ù–ê–Ø –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º KPI

### 3.2 –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞

#### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π (–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
**–¢–µ–∫—É—â–µ–µ:**
```python
async def load_model(self):
    # SpaCy: spacy.load('ru_core_news_lg') - ~2-3 —Å–µ–∫—É–Ω–¥—ã
    # Natasha: NewsEmbedding() - ~1-2 —Å–µ–∫—É–Ω–¥—ã
    # Stanza: stanza.Pipeline() - ~3-5 —Å–µ–∫—É–Ω–¥
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 6-10 —Å–µ–∫—É–Ω–¥ –≤—Å–µ–≥–æ
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π

#### 2. –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (–ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è)
**–¢–µ–∫—É—â–µ–µ:** –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ—á–∏—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
**–í–ª–∏—è–Ω–∏–µ:** 3x –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è ensemble —Ä–µ–∂–∏–º–∞
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—á–∏—â–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

#### 3. –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è (–ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ö–æ–¥–æ–≤)
**–¢–µ–∫—É—â–µ–µ:**
- –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
- Manager –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏ —Å–Ω–æ–≤–∞ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä—É–µ—Ç
- Ensemble voting –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä—É–µ—Ç —Ç—Ä–µ—Ç–∏–π —Ä–∞–∑

**–í–ª–∏—è–Ω–∏–µ:** O(n¬≤) —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ü–µ

#### 4. Ensemble Voting overhead
**–¢–µ–∫—É—â–µ–µ:**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ó–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç voting –ª–æ–≥–∏–∫—É
- –ó–∞—Ç–µ–º —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ consensus

**–í–ª–∏—è–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ (voting –±—ã—Å—Ç—Ä—ã–π)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–µ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ

### 3.3 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–º—è—Ç–∏:**
- SpaCy –º–æ–¥–µ–ª—å (ru_core_news_lg): ~500 –ú–ë
- Natasha –º–æ–¥–µ–ª–∏: ~200 –ú–ë
- Stanza –º–æ–¥–µ–ª—å (ru): ~300 –ú–ë
- **–í—Å–µ–≥–æ:** ~1 –ì–ë –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ –ü—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–æ –¥–ª—è Lambda/Edge —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–π
- üí° **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:** Lazy loading –¥–ª—è SINGLE —Ä–µ–∂–∏–º–∞

### 3.4 –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–í—ã—Å–æ–∫–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π** (–û–∂–∏–¥–∞–µ—Ç—Å—è: -50% –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)
   ```python
   async def _initialize_processors(self):
       tasks = [
           self._load_spacy(),
           self._load_natasha(),
           self._load_stanza()
       ]
       await asyncio.gather(*tasks)
   ```
   **–í–ª–∏—è–Ω–∏–µ:** 6-10s ‚Üí 3-5s –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

2. **–û–±—â–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞** (–û–∂–∏–¥–∞–µ—Ç—Å—è: -10% –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏)
   ```python
   cleaned_text = TextCleaner.clean(text)  # –û–¥–∏–Ω —Ä–∞–∑
   # –ü–µ—Ä–µ–¥–∞—Ç—å cleaned_text –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º
   ```
   **–í–ª–∏—è–Ω–∏–µ:** 3x —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ regex –æ–ø–µ—Ä–∞—Ü–∏–π

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è** (–û–∂–∏–¥–∞–µ—Ç—Å—è: -5% –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏)
   ```python
   class DeduplicationService:
       def deduplicate_once(descriptions):
           # –û–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É—è set —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º hash
   ```
   **–í–ª–∏—è–Ω–∏–µ:** O(n¬≤) ‚Üí O(n)

4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞** (–û–∂–∏–¥–∞–µ—Ç—Å—è: –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ)
   ```python
   # –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
   @lru_cache(maxsize=100)
   async def extract_cached(text_hash, processor_name):
       ...
   ```
   **–í–ª–∏—è–Ω–∏–µ:** –ü–æ—á—Ç–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ç–µ–∫—Å—Ç–æ–≤

5. **Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞** (–û–∂–∏–¥–∞–µ—Ç—Å—è: +20% –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)
   ```python
   # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–ª–∞–≤ –≤ batch
   async def extract_batch(texts: List[str]):
       # SpaCy –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç batch –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–∞—Ç–∏–≤–Ω–æ
       docs = list(nlp.pipe(texts))
   ```
   **–í–ª–∏—è–Ω–∏–µ:** –õ—É—á—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU/CPU

---

## 4. –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏

### 4.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π `EnhancedNLPProcessor`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
3. –î–æ–±–∞–≤–∏—Ç—å –≤ `multi_nlp_manager._initialize_processors()`
4. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥–∞ –≤ `_load_processor_configs()`
5. –û–±–Ω–æ–≤–∏—Ç—å admin API –º–æ–¥–µ–ª–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ manager (–Ω–∞—Ä—É—à–∞–µ—Ç Open/Closed Principle)
- ‚ö†Ô∏è –ù–µ—Ç plugin –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚ö†Ô∏è –ñ—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Plugin Architecture
```python
class ProcessorRegistry:
    _processors = {}

    @classmethod
    def register(cls, name: str):
        def decorator(processor_class):
            cls._processors[name] = processor_class
            return processor_class
        return decorator

    @classmethod
    def get_processor(cls, name: str):
        return cls._processors.get(name)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
@ProcessorRegistry.register("custom_processor")
class CustomProcessor(EnhancedNLPProcessor):
    ...
```

### 4.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. –î–æ–±–∞–≤–∏—Ç—å enum –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `ProcessingMode`
2. –î–æ–±–∞–≤–∏—Ç—å case –≤ `extract_descriptions()` switch
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_process_<mode>()` –º–µ—Ç–æ–¥

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è Manager —Ä–∞—Å—Ç—ë—Ç —Å –∫–∞–∂–¥—ã–º —Ä–µ–∂–∏–º–æ–º
- ‚ö†Ô∏è –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Ä–µ–∂–∏–º–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Strategy Pattern
```python
class ProcessingStrategy(ABC):
    @abstractmethod
    async def process(self, text: str, processors: List[str]) -> ProcessingResult:
        pass

class EnsembleStrategy(ProcessingStrategy):
    async def process(self, text, processors):
        # Ensemble –ª–æ–≥–∏–∫–∞ –∑–¥–µ—Å—å
        pass

# Factory:
class StrategyFactory:
    strategies = {
        ProcessingMode.ENSEMBLE: EnsembleStrategy(),
        ProcessingMode.PARALLEL: ParallelStrategy(),
        ...
    }
```

### 4.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `settings_manager`
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ (54 —Å—Ç—Ä–æ–∫–∏)
- ‚ö†Ô∏è –ñ—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```python
# config/nlp_defaults.py
DEFAULT_CONFIGS = {
    'spacy': {
        'model_name': 'ru_core_news_lg',
        'weight': 1.0,
        ...
    },
    'natasha': {...},
    'stanza': {...}
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pydantic –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
class ProcessorConfig(BaseModel):
    enabled: bool = True
    weight: float = Field(ge=0.0, le=10.0)
    confidence_threshold: float = Field(ge=0.0, le=1.0)
    ...
```

---

## 5. –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 5.1 –¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

**–ù–∞–π–¥–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `/backend/tests/test_auth.py` - –¢–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `/backend/tests/test_books.py` - –¢–µ—Å—Ç—ã API –∫–Ω–∏–≥
- `/backend/test_nlp.py` - –¢–µ—Å—Ç NLP —Å–∏—Å—Ç–µ–º—ã (–±–∞–∑–æ–≤—ã–π)

**–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã:**
- ‚ùå –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è `MultiNLPManager`
- ‚ùå –ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è ensemble voting
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è adaptive –≤—ã–±–æ—Ä–∞
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è multi-processor –ø–æ—Ç–æ–∫–∞
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–±–µ–Ω—á–º–∞—Ä–∫–æ–≤

### 5.2 –û—Ü–µ–Ω–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏

**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** ~5-10% (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)
**–¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:** >80% –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π

### 5.3 –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã

**Unit —Ç–µ—Å—Ç—ã:**
```python
# tests/services/test_multi_nlp_manager.py
class TestMultiNLPManager:
    async def test_processor_initialization()
    async def test_single_mode()
    async def test_parallel_mode()
    async def test_ensemble_voting()
    async def test_adaptive_selection()
    async def test_config_update()

# tests/services/test_spacy_processor.py
class TestSpacyProcessor:
    async def test_entity_extraction()
    async def test_pattern_matching()
    async def test_fallback_extraction()
    async def test_quality_scoring()

# tests/services/test_ensemble_voting.py
class TestEnsembleVoting:
    def test_weighted_consensus()
    def test_threshold_filtering()
    def test_deduplication()
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
```python
# tests/integration/test_multi_nlp_flow.py
class TestMultiNLPFlow:
    async def test_full_book_processing()
    async def test_mode_switching()
    async def test_processor_fallback()
    async def test_quality_threshold()
```

**–¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```python
# tests/performance/test_nlp_benchmarks.py
class TestNLPBenchmarks:
    async def test_single_processor_speed()
    async def test_parallel_processor_speed()
    async def test_ensemble_overhead()
    async def test_large_text_processing()

    # –¶–µ–ª—å: 2171 –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞ <4 —Å–µ–∫—É–Ω–¥—ã
```

---

## 6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–ù–µ–¥–µ–ª—è 1-2)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô - –†–µ—à–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞**

#### 1.1 –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Manager (multi_nlp_manager.py)

**–¢–µ–∫—É—â–µ–µ:** 627-—Å—Ç—Ä–æ—á–Ω—ã–π God Object
**–¶–µ–ª—å:** <300 —Å—Ç—Ä–æ–∫ —Å –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏

```python
# services/nlp/manager.py (–≥–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)
class MultiNLPManager:
    def __init__(self, registry, config_loader, strategy_factory):
        self.registry = registry
        self.config_loader = config_loader
        self.strategy_factory = strategy_factory

    async def extract_descriptions(self, text, mode):
        strategy = self.strategy_factory.get(mode)
        return await strategy.process(text, self.processors)

# services/nlp/processor_registry.py
class ProcessorRegistry:
    """–£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤"""

# services/nlp/config_loader.py
class ProcessorConfigLoader:
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤"""

# services/nlp/strategies/
#   - base_strategy.py
#   - single_strategy.py
#   - parallel_strategy.py
#   - sequential_strategy.py
#   - ensemble_strategy.py
#   - adaptive_strategy.py

# services/nlp/voting/
#   - ensemble_voter.py
#   - weighted_consensus.py
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Single Responsibility Principle
- ‚úÖ –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ –õ–µ–≥—á–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã
- ‚úÖ –õ—É—á—à–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞

#### 1.2 –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

**–ò–∑–≤–ª–µ—á—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã:**

```python
# services/nlp/utils/text_cleaner.py
class TextCleaner:
    @staticmethod
    def clean(text: str) -> str:
        text = re.sub(r'\s+', ' ', text)
        text = re.sub(r'[^\w\s\.\,\!\?\;\:\-\‚Äî\¬´\¬ª\"\'\(\)\[\]]', '', text)
        return text.strip()

# services/nlp/utils/description_filter.py
class DescriptionFilter:
    def __init__(self, config: ProcessorConfig):
        self.config = config

    def filter(self, descriptions: List[Dict]) -> List[Dict]:
        # –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        return self._filter_by_length(
            self._filter_by_confidence(
                self._deduplicate(descriptions)
            )
        )

# services/nlp/utils/type_mapper.py
class DescriptionTypeMapper:
    """–ú–∞–ø–ø–∏—Ç —Ç–∏–ø—ã entity –≤ —Ç–∏–ø—ã –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤"""

    MAPPINGS = {
        'spacy': {
            'PERSON': DescriptionType.CHARACTER,
            'LOC': DescriptionType.LOCATION,
            ...
        },
        'natasha': {
            PER: DescriptionType.CHARACTER,
            LOC: DescriptionType.LOCATION,
            ...
        },
        'stanza': {...}
    }

# services/nlp/utils/quality_scorer.py
class QualityScorer:
    """–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –∫–∞—á–µ—Å—Ç–≤–∞"""

    def calculate_score(self, description: Dict) -> float:
        # –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥—Å—á—ë—Ç–∞
        pass
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ ~400 —Å—Ç—Ä–æ–∫ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
- ‚úÖ –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

#### 1.3 –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

```python
# services/nlp/exceptions.py
class NLPProcessorError(Exception):
    """–ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ NLP –æ–±—Ä–∞–±–æ—Ç–∫–∏"""
    pass

class ProcessorInitializationError(NLPProcessorError):
    """–í–æ–∑–±—É–∂–¥–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è"""
    pass

class ProcessingTimeoutError(NLPProcessorError):
    """–í–æ–∑–±—É–∂–¥–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç timeout"""
    pass

class EnsembleVotingError(NLPProcessorError):
    """–í–æ–∑–±—É–∂–¥–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ ensemble voting –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"""
    pass

class ModelLoadingError(NLPProcessorError):
    """–í–æ–∑–±—É–∂–¥–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ NLP –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è"""
    pass

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö:
try:
    self.nlp = spacy.load(model_name)
except OSError as e:
    raise ModelLoadingError(f"Failed to load {model_name}: {e}") from e
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ß—ë—Ç–∫–∏–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ –õ—É—á—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –õ–µ–≥—á–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –õ—É—á—à–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### 1.4 –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
# services/nlp/logging_config.py
import logging
from typing import Optional

class NLPLogger:
    """–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π logger –¥–ª—è NLP —Å–∏—Å—Ç–µ–º—ã"""

    def __init__(self, name: str):
        self.logger = logging.getLogger(f"nlp.{name}")

    def log_processing_start(self, text_length: int, processor: str):
        self.logger.info(
            "Processing started",
            extra={
                "text_length": text_length,
                "processor": processor,
                "event": "processing_start"
            }
        )

    def log_processing_complete(self, result_count: int, duration: float):
        self.logger.info(
            f"Extracted {result_count} descriptions",
            extra={
                "result_count": result_count,
                "duration_seconds": duration,
                "event": "processing_complete"
            }
        )

    def log_processing_error(self, error: Exception, context: Optional[Dict] = None):
        self.logger.error(
            f"Processing failed: {error}",
            extra={
                "error_type": type(error).__name__,
                "error_message": str(error),
                "context": context or {},
                "event": "processing_error"
            },
            exc_info=True
        )
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥/–∞–ª–µ—Ä—Ç–∏–Ω–≥
- ‚úÖ –í–∫–ª—é—á–µ–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–∑–∞ 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ù–µ–¥–µ–ª—è 3)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô - –°–∏—Å—Ç–µ–º–∞ —É–∂–µ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**

#### 2.1 –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π

```python
# services/nlp/loader.py
class ParallelModelLoader:
    async def load_all_models(self, processors: List[str]):
        tasks = []

        for processor_name in processors:
            processor_class = ProcessorRegistry.get(processor_name)
            processor = processor_class(config)
            task = processor.load_model()
            tasks.append((processor_name, processor, task))

        # –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
        results = await asyncio.gather(
            *[task for _, _, task in tasks],
            return_exceptions=True
        )

        # –°–æ–±—Ä–∞—Ç—å —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
        loaded_processors = {}
        for i, (name, processor, _) in enumerate(tasks):
            if not isinstance(results[i], Exception):
                loaded_processors[name] = processor

        return loaded_processors
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** 50% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (6-10s ‚Üí 3-5s)

#### 2.2 –û–±—â–∞—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

```python
# services/nlp/preprocessor.py
class TextPreprocessor:
    def __init__(self):
        self.cache = {}

    def preprocess(self, text: str) -> ProcessedText:
        # –í—ã—á–∏—Å–ª–∏—Ç—å hash –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
        text_hash = hashlib.md5(text.encode()).hexdigest()

        if text_hash in self.cache:
            return self.cache[text_hash]

        # –û—á–∏—Å—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç –æ–¥–∏–Ω —Ä–∞–∑
        cleaned = TextCleaner.clean(text)

        # –¢–æ–∫–µ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ (–¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤)
        sentences = self._split_sentences(cleaned)

        processed = ProcessedText(
            original=text,
            cleaned=cleaned,
            sentences=sentences,
            hash=text_hash
        )

        self.cache[text_hash] = processed
        return processed
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** 10% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### 2.3 –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è

```python
# services/nlp/utils/deduplicator.py
from dataclasses import dataclass
from typing import List, Dict, Set

@dataclass
class DescriptionKey:
    """–•—ç—à–∏—Ä—É–µ–º—ã–π –∫–ª—é—á –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏–π"""
    content_prefix: str  # –ü–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤
    type: str

    def __hash__(self):
        return hash((self.content_prefix, self.type))

    def __eq__(self, other):
        return (self.content_prefix == other.content_prefix and
                self.type == other.type)

class Deduplicator:
    def deduplicate(self, descriptions: List[Dict]) -> List[Dict]:
        """O(n) –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É—è set"""
        seen_keys: Set[DescriptionKey] = set()
        unique_descriptions = []

        for desc in descriptions:
            key = DescriptionKey(
                content_prefix=desc['content'][:100],
                type=desc['type']
            )

            if key not in seen_keys:
                seen_keys.add(key)
                unique_descriptions.append(desc)

        return unique_descriptions
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** 5% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (O(n¬≤) ‚Üí O(n))

#### 2.4 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ batch –æ–±—Ä–∞–±–æ—Ç–∫–∏

```python
# services/nlp/batch_processor.py
class BatchProcessor:
    def __init__(self, manager: MultiNLPManager):
        self.manager = manager

    async def process_chapters_batch(
        self,
        chapters: List[Chapter],
        batch_size: int = 5
    ) -> Dict[str, ProcessingResult]:
        """–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–ª–∞–≤"""

        results = {}

        # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤—ã –≤ batch
        for i in range(0, len(chapters), batch_size):
            batch = chapters[i:i + batch_size]

            # –û–±—Ä–∞–±–æ—Ç–∞—Ç—å batch –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
            tasks = [
                self.manager.extract_descriptions(ch.content, ch.id)
                for ch in batch
            ]

            batch_results = await asyncio.gather(*tasks)

            # –°–æ–±—Ä–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            for chapter, result in zip(batch, batch_results):
                results[chapter.id] = result

        return results
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** 20% —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

#### 2.5 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```python
# services/nlp/cache.py
from functools import lru_cache
import hashlib

class ResultCache:
    def __init__(self, max_size: int = 100):
        self.cache: Dict[str, ProcessingResult] = {}
        self.max_size = max_size

    def get_cache_key(self, text: str, mode: str, processors: List[str]) -> str:
        """–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å cache –∫–ª—é—á –∏–∑ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤"""
        key_data = f"{text[:500]}:{mode}:{','.join(sorted(processors))}"
        return hashlib.sha256(key_data.encode()).hexdigest()

    async def get_or_process(
        self,
        text: str,
        mode: ProcessingMode,
        processors: List[str],
        process_fn
    ) -> ProcessingResult:
        """–ü–æ–ª—É—á–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å"""

        cache_key = self.get_cache_key(text, mode.value, processors)

        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à
        if cache_key in self.cache:
            logger.debug(f"Cache hit for key {cache_key[:16]}...")
            return self.cache[cache_key]

        # –û–±—Ä–∞–±–æ—Ç–∞—Ç—å
        result = await process_fn()

        # –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        self._add_to_cache(cache_key, result)

        return result

    def _add_to_cache(self, key: str, result: ProcessingResult):
        """–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫—ç—à —Å LRU –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏–µ–º"""
        if len(self.cache) >= self.max_size:
            # –£–¥–∞–ª–∏—Ç—å —Å–∞–º—É—é —Å—Ç–∞—Ä—É—é –∑–∞–ø–∏—Å—å (FIFO –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)
            oldest_key = next(iter(self.cache))
            del self.cache[oldest_key]

        self.cache[key] = result
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ–Ω–Ω–æ–µ (90%+ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ç–µ–∫—Å—Ç–æ–≤)

### –§–∞–∑–∞ 3: –£–ª—É—á—à–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏ (–ù–µ–¥–µ–ª—è 4)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô - –ü—Ä–∏—è—Ç–Ω–æ –∏–º–µ—Ç—å –¥–ª—è –±—É–¥—É—â–µ–≥–æ**

#### 3.1 Plugin –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```python
# services/nlp/plugin_system.py
from typing import Type, Dict, Optional
from abc import ABC, abstractmethod

class ProcessorPlugin(ABC):
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è processor plugin'–æ–≤"""

    @property
    @abstractmethod
    def name(self) -> str:
        """–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞"""
        pass

    @property
    @abstractmethod
    def version(self) -> str:
        """–í–µ—Ä—Å–∏—è plugin'–∞"""
        pass

    @abstractmethod
    async def create_processor(self, config: ProcessorConfig) -> EnhancedNLPProcessor:
        """Factory –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞"""
        pass

class ProcessorPluginRegistry:
    """–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π registry –¥–ª—è processor plugin'–æ–≤"""

    _plugins: Dict[str, ProcessorPlugin] = {}

    @classmethod
    def register(cls, plugin: ProcessorPlugin):
        """–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π processor plugin"""
        if plugin.name in cls._plugins:
            raise ValueError(f"Processor {plugin.name} already registered")

        cls._plugins[plugin.name] = plugin
        logger.info(f"Registered processor plugin: {plugin.name} v{plugin.version}")

    @classmethod
    def get_plugin(cls, name: str) -> Optional[ProcessorPlugin]:
        """–ü–æ–ª—É—á–∏—Ç—å plugin –ø–æ –∏–º–µ–Ω–∏"""
        return cls._plugins.get(name)

    @classmethod
    def list_plugins(cls) -> List[str]:
        """–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö plugin'–æ–≤"""
        return list(cls._plugins.keys())

# –ü—Ä–∏–º–µ—Ä plugin'–∞:
class SpacyPlugin(ProcessorPlugin):
    name = "spacy"
    version = "1.0.0"

    async def create_processor(self, config: ProcessorConfig):
        processor = EnhancedSpacyProcessor(config)
        await processor.load_model()
        return processor

# –ê–≤—Ç–æ-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
ProcessorPluginRegistry.register(SpacyPlugin())
ProcessorPluginRegistry.register(NatashaPlugin())
ProcessorPluginRegistry.register(StanzaPlugin())
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π manager)
- ‚úÖ –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏

#### 3.2 Strategy Pattern –¥–ª—è —Ä–µ–∂–∏–º–æ–≤

```python
# services/nlp/strategies/base.py
class ProcessingStrategy(ABC):
    """–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏"""

    @abstractmethod
    async def process(
        self,
        text: str,
        processors: Dict[str, EnhancedNLPProcessor],
        chapter_id: Optional[str] = None
    ) -> ProcessingResult:
        """–í—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏"""
        pass

    @abstractmethod
    def estimate_processing_time(self, text_length: int) -> float:
        """–û—Ü–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏"""
        pass

# services/nlp/strategies/ensemble.py
class EnsembleStrategy(ProcessingStrategy):
    def __init__(self, voter: EnsembleVoter):
        self.voter = voter

    async def process(self, text, processors, chapter_id):
        # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
        tasks = [
            processor.extract_descriptions(text, chapter_id)
            for processor in processors.values()
        ]

        results = await asyncio.gather(*tasks, return_exceptions=True)

        # –°–æ–±—Ä–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        processor_results = {}
        for (name, processor), result in zip(processors.items(), results):
            if not isinstance(result, Exception):
                processor_results[name] = result

        # –ü—Ä–∏–º–µ–Ω–∏—Ç—å ensemble voting
        final_descriptions = self.voter.vote(processor_results)

        return ProcessingResult(
            descriptions=final_descriptions,
            processor_results=processor_results,
            processors_used=list(processors.keys()),
            ...
        )

# services/nlp/strategies/factory.py
class StrategyFactory:
    """Factory –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏"""

    _strategies: Dict[ProcessingMode, ProcessingStrategy] = {}

    @classmethod
    def register(cls, mode: ProcessingMode, strategy: ProcessingStrategy):
        cls._strategies[mode] = strategy

    @classmethod
    def get(cls, mode: ProcessingMode) -> ProcessingStrategy:
        if mode not in cls._strategies:
            raise ValueError(f"Unknown processing mode: {mode}")
        return cls._strategies[mode]

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
StrategyFactory.register(ProcessingMode.SINGLE, SingleStrategy())
StrategyFactory.register(ProcessingMode.PARALLEL, ParallelStrategy())
StrategyFactory.register(ProcessingMode.ENSEMBLE, EnsembleStrategy(EnsembleVoter()))
...
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ Open/Closed Principle (–æ—Ç–∫—Ä—ã—Ç–æ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- ‚úÖ –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–∞
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã
- ‚úÖ –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∫–æ–¥ manager

#### 3.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å Pydantic

```python
# services/nlp/config/models.py
from pydantic import BaseModel, Field, validator
from typing import List, Dict, Any

class ProcessorConfig(BaseModel):
    """–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤"""
    enabled: bool = True
    weight: float = Field(ge=0.0, le=10.0, default=1.0)
    confidence_threshold: float = Field(ge=0.0, le=1.0, default=0.3)
    min_description_length: int = Field(ge=10, le=5000, default=50)
    max_description_length: int = Field(ge=100, le=10000, default=1000)
    min_word_count: int = Field(ge=1, le=500, default=10)

    class Config:
        extra = "allow"  # –†–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

class SpacyConfig(ProcessorConfig):
    """SpaCy-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"""
    model_name: str = Field(default="ru_core_news_lg")
    disable_components: List[str] = Field(default_factory=list)
    entity_types: List[str] = Field(
        default=['PERSON', 'LOC', 'GPE', 'FAC', 'ORG']
    )
    literary_patterns: bool = True
    character_detection_boost: float = Field(ge=0.5, le=3.0, default=1.2)
    location_detection_boost: float = Field(ge=0.5, le=3.0, default=1.1)

    @validator('model_name')
    def validate_model_name(cls, v):
        allowed_models = [
            'ru_core_news_lg',
            'ru_core_news_md',
            'ru_core_news_sm'
        ]
        if v not in allowed_models:
            raise ValueError(f"Model must be one of {allowed_models}")
        return v

class MultiNLPConfig(BaseModel):
    """–ì–ª–æ–±–∞–ª—å–Ω–∞—è multi-NLP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"""
    processing_mode: ProcessingMode = ProcessingMode.SINGLE
    default_processor: str = "spacy"
    max_parallel_processors: int = Field(ge=1, le=10, default=3)
    ensemble_voting_threshold: float = Field(ge=0.0, le=1.0, default=0.6)
    adaptive_text_analysis: bool = True
    quality_monitoring: bool = True

    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
    processors: Dict[str, ProcessorConfig] = Field(default_factory=dict)

    @validator('default_processor')
    def validate_default_processor(cls, v, values):
        if 'processors' in values and v not in values['processors']:
            raise ValueError(f"Default processor {v} not in configured processors")
        return v
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ß—ë—Ç–∫–∞—è —Å—Ö–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –õ—É—á—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

---

## 7. –ü—É—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

#### –ù–µ–¥–µ–ª—è 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (5-7 –¥–Ω–µ–π)

**–î–µ–Ω—å 1-2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**
```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
backend/app/services/nlp/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ manager.py              # –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π manager
‚îú‚îÄ‚îÄ processor_registry.py   # Plugin —Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ config_loader.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–º
‚îú‚îÄ‚îÄ exceptions.py           # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ logging_config.py       # –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ text_cleaner.py
‚îÇ   ‚îú‚îÄ‚îÄ description_filter.py
‚îÇ   ‚îú‚îÄ‚îÄ type_mapper.py
‚îÇ   ‚îú‚îÄ‚îÄ quality_scorer.py
‚îÇ   ‚îî‚îÄ‚îÄ deduplicator.py
‚îú‚îÄ‚îÄ strategies/
‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îú‚îÄ‚îÄ single.py
‚îÇ   ‚îú‚îÄ‚îÄ parallel.py
‚îÇ   ‚îú‚îÄ‚îÄ sequential.py
‚îÇ   ‚îú‚îÄ‚îÄ ensemble.py
‚îÇ   ‚îî‚îÄ‚îÄ adaptive.py
‚îú‚îÄ‚îÄ voting/
‚îÇ   ‚îú‚îÄ‚îÄ ensemble_voter.py
‚îÇ   ‚îî‚îÄ‚îÄ weighted_consensus.py
‚îî‚îÄ‚îÄ processors/
    ‚îú‚îÄ‚îÄ spacy_processor.py
    ‚îú‚îÄ‚îÄ natasha_processor.py
    ‚îî‚îÄ‚îÄ stanza_processor.py
```

**–î–µ–Ω—å 3-4: –ò–∑–≤–ª–µ—á—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã**
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `_clean_text()` –≤ `TextCleaner`
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `_filter_and_*()` –≤ `DescriptionFilter`
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å type mapping –≤ `DescriptionTypeMapper`
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å quality scoring –≤ `QualityScorer`
- –î–æ–±–∞–≤–∏—Ç—å comprehensive —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —É—Ç–∏–ª–∏—Ç—ã

**–î–µ–Ω—å 5-7: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `NLPLogger` —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

#### –ù–µ–¥–µ–ª—è 2: –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (5-7 –¥–Ω–µ–π)

**–î–µ–Ω—å 8-10: –ò–∑–≤–ª–µ—á—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `ProcessingStrategy`
- –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `StrategyFactory`
- –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

**–î–µ–Ω—å 11-12: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å manager**
- –ò–∑–≤–ª–µ—á—å –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥–∞ –≤ `ProcessorConfigLoader`
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å manager –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –û–±–Ω–æ–≤–∏—Ç—å manager –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–î–µ–Ω—å 13-14: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã**
- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (`TextCleaner`, `DescriptionFilter`, –∏ —Ç.–¥.)
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### –ù–µ–¥–µ–ª—è 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (5-7 –¥–Ω–µ–π)

**–î–µ–Ω—å 15-16: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ParallelModelLoader`
- –ë–µ–Ω—á–º–∞—Ä–∫ —É–ª—É—á—à–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

**–î–µ–Ω—å 17-18: –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `TextPreprocessor` —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ResultCache`
- –ë–µ–Ω—á–º–∞—Ä–∫ —É–ª—É—á—à–µ–Ω–∏–π
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

**–î–µ–Ω—å 19-20: Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `BatchProcessor`
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é (O(n) –∞–ª–≥–æ—Ä–∏—Ç–º)
- –ë–µ–Ω—á–º–∞—Ä–∫ –ø–æ–ª–Ω–æ–≥–æ pipeline
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–î–µ–Ω—å 21: –§–∏–Ω–∞–ª—å–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥**
- –ó–∞–ø—É—Å—Ç–∏—Ç—å comprehensive –±–µ–Ω—á–º–∞—Ä–∫–∏
- –°—Ä–∞–≤–Ω–∏—Ç—å —Å baseline (2171 –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞ 4s)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ KPI –≤—ã–ø–æ–ª–Ω–µ–Ω—ã (>70% –∫–∞—á–µ—Å—Ç–≤–æ, <4s –æ–±—Ä–∞–±–æ—Ç–∫–∞)

#### –ù–µ–¥–µ–ª—è 4: –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –æ—á–∏—Å—Ç–∫–∞ (3-5 –¥–Ω–µ–π)

**–î–µ–Ω—å 22-23: Plugin –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ProcessorPluginRegistry`
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –≤ plugin'—ã
- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å plugin —Ç–µ—Å—Ç—ã

**–î–µ–Ω—å 24: Pydantic –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å config –º–æ–¥–µ–ª–∏ —Å Pydantic
- –û–±–Ω–æ–≤–∏—Ç—å admin API –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞

**–î–µ–Ω—å 25-26: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞**
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ docstrings
- –ù–∞–ø–∏—Å–∞—Ç—å migration guide
- –û–±–Ω–æ–≤–∏—Ç—å `CLAUDE.md` —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –£–¥–∞–ª–∏—Ç—å deprecated –∫–æ–¥ (–ø–æ–º–µ—Ç–∏—Ç—å `nlp_processor.py` –∫–∞–∫ deprecated)
- –§–∏–Ω–∞–ª—å–Ω—ã–π code review

---

## 8. –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤

### –≠–ª–µ–º–µ–Ω—Ç—ã –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞

1. **–ü–æ–ª–æ–º–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
   - **–†–∏—Å–∫:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
     - Comprehensive —Ç–µ—Å—Ç suite –ø–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º
     - Feature flags –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ rollout
     - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º

2. **–î–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - **–†–∏—Å–∫:** –ù–æ–≤—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–æ–≥—É—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
     - –ë–µ–Ω—á–º–∞—Ä–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
     - Performance regression —Ç–µ—Å—Ç—ã
     - –ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç

3. **–ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - **–†–∏—Å–∫:** –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
     - Config migration —Å–∫—Ä–∏–ø—Ç
     - Backward compatibility —Å–ª–æ–π
     - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤

### –≠–ª–µ–º–µ–Ω—Ç—ã —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∏—Å–∫–∞

1. **–£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**
   - **–†–∏—Å–∫:** –ë–æ–ª—å—à–µ —Ñ–∞–π–ª–æ–≤ –º–æ–∂–µ—Ç –∑–∞–ø—É—Ç–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
     - –ß—ë—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
     - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
     - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

2. **Testing overhead**
   - **–†–∏—Å–∫:** –ë–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
     - Test —É—Ç–∏–ª–∏—Ç—ã –∏ fixtures
     - CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
     - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏

### –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∏–∑–∫–æ–≥–æ —Ä–∏—Å–∫–∞

1. **–ü—Ä–∏–Ω—è—Ç–∏–µ plugin —Å–∏—Å—Ç–µ–º—ã**
   - **–†–∏—Å–∫:** –ù–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ plugin'–∞—Ö
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
     - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
     - –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## 9. –°–≤–æ–¥–∫–∞ –æ–∂–∏–¥–∞–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

**–î–æ:**
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫:** 2,809
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** ~40%
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** ~5-10%
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (–º–µ—Ç–æ–¥—ã >100 —Å—Ç—Ä–æ–∫)

**–ü–æ—Å–ª–µ:**
- **–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫:** ~2,400 (14% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ)
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** <10% (75% —É–ª—É—á—à–µ–Ω–∏–µ)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** >80% (800% —É–ª—É—á—à–µ–Ω–∏–µ)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è (–º–µ—Ç–æ–¥—ã <50 —Å—Ç—Ä–æ–∫)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–¢–µ–∫—É—â–∞—è:**
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** 6-10 —Å–µ–∫—É–Ω–¥
- **–û–±—Ä–∞–±–æ—Ç–∫–∞:** 4 —Å–µ–∫—É–Ω–¥—ã (2171 –æ–ø–∏—Å–∞–Ω–∏–π)
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** 542 –æ–ø–∏—Å–∞–Ω–∏–π/—Å–µ–∫

**–û–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** 3-5 —Å–µ–∫—É–Ω–¥ (50% –±—ã—Å—Ç—Ä–µ–µ)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞:** 3.2-3.6 —Å–µ–∫—É–Ω–¥—ã (10-20% –±—ã—Å—Ç—Ä–µ–µ)
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** 600-680 –æ–ø–∏—Å–∞–Ω–∏–π/—Å–µ–∫ (15-25% —É–ª—É—á—à–µ–Ω–∏–µ)
- **Batch –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** +20% –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω Single Responsibility Principle
- ‚úÖ Open/Closed Principle —á–µ—Ä–µ–∑ plugin'—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã (plugin —Å–∏—Å—Ç–µ–º–∞)
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã (strategy pattern)
- ‚úÖ Comprehensive –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## 10. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–≤–æ–¥—ã

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –û–¢–õ–ò–ß–ù–ê–Ø** - –£–∂–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º KPI
2. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è** - 40% –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–ª–æ–∂–Ω—ã–π manager
3. **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ - –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–û–ë–ï–õ** - <10% –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ
4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö–æ—Ä–æ—à–∞—è –Ω–æ –∂—ë—Å—Ç–∫–∞—è** - –ù—É–∂–Ω–∞ plugin —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ):**
1. –î–æ–±–∞–≤–∏—Ç—å comprehensive —Ç–µ—Å—Ç suite (—Ü–µ–ª—å >80% –ø–æ–∫—Ä—ã—Ç–∏—è)
2. –ò–∑–≤–ª–µ—á—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–°–ª–µ–¥—É—é—â–∏–µ 2 –Ω–µ–¥–µ–ª–∏):**
1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å manager –∏—Å–ø–æ–ª—å–∑—É—è Strategy Pattern
2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö
3. –î–æ–±–∞–≤–∏—Ç—å performance regression —Ç–µ—Å—Ç—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ú–µ—Å—è—Ü 2):**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å plugin –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
2. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –º–æ–¥–µ–ª–µ–π
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:**
- ‚úÖ –°–æ–∫—Ä–∞—Ç–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å 40% –¥–æ <10%
- ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ —Å ~5% –¥–æ >80%
- ‚úÖ –°–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å manager —Å 627 —Å—Ç—Ä–æ–∫ –¥–æ <300 —Å—Ç—Ä–æ–∫

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (2171 –æ–ø–∏—Å–∞–Ω–∏–π –∑–∞ <4s)
- ‚úÖ –°–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ 50% (6-10s ‚Üí 3-5s)
- ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞ 15-25% (542 ‚Üí 600-680 –æ–ø–∏—Å–∞–Ω–∏–π/—Å–µ–∫)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:**
- ‚úÖ –í–∫–ª—é—á–∏—Ç—å plugin –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
- ‚úÖ –í–∫–ª—é—á–∏—Ç—å strategy pattern –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ Comprehensive –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å Pydantic

---

**–ö–æ–Ω–µ—Ü –∞–Ω–∞–ª–∏–∑–∞**

*–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ Multi-NLP System Expert Agent*
*–î–∞—Ç–∞: 2025-10-24*
