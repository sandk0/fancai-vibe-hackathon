# =============================================================================
# BookReader AI - Lite Version Environment Variables
# =============================================================================
# Lightweight deployment using LangExtract (Google Gemini API) only.
# No NLP libraries (SpaCy, Stanza, GLiNER) - much faster startup and less RAM.
#
# Copy this file to .env:
#   cp .env.lite.example .env
#
# Then fill in the required values below.
# =============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=production  # development, staging, production
DEBUG=false

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
DOMAIN_NAME=fancai.ru
DOMAIN_URL=https://fancai.ru
SSL_EMAIL=admin@fancai.ru

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
DB_NAME=bookreader
DB_USER=postgres
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
DB_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# =============================================================================
# REDIS SETTINGS
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
REDIS_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# =============================================================================
# SECURITY SECRETS (CRITICAL!)
# =============================================================================
# Generate using: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=REPLACE_WITH_64_CHAR_SECRET
JWT_SECRET_KEY=REPLACE_WITH_64_CHAR_SECRET
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# LANGEXTRACT CONFIGURATION (REQUIRED!)
# =============================================================================
# This is the ONLY parser in lite version - API key is REQUIRED!
#
# Get your API key from Google AI Studio:
# https://aistudio.google.com/app/apikey
#
# Supported regions: US, EU, and most countries (except Russia, China, etc.)
# If your server is in a blocked region, use the full version with proxy.

LANGEXTRACT_API_KEY=YOUR_GOOGLE_GEMINI_API_KEY_HERE

# LangExtract model (default: gemini-2.0-flash)
# Options: gemini-2.0-flash, gemini-1.5-flash, gemini-1.5-pro
LANGEXTRACT_MODEL=gemini-2.0-flash

# =============================================================================
# PARSER CONFIGURATION
# =============================================================================
# These MUST be set for lite version (NLP libraries not installed)
USE_LANGEXTRACT_PRIMARY=true
USE_ADVANCED_PARSER=false
USE_NLP_PROCESSORS=false

# =============================================================================
# AI SERVICES
# =============================================================================
# Pollinations.ai (free image generation)
POLLINATIONS_ENABLED=true

# OpenAI (optional - for DALL-E, not required)
OPENAI_API_KEY=

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_CONCURRENCY=2
CELERY_MAX_TASKS_PER_CHILD=100

# =============================================================================
# APPLICATION PERFORMANCE
# =============================================================================
# Reduced workers - no NLP processing overhead
WORKERS_COUNT=2
LOG_LEVEL=INFO

# =============================================================================
# CORS & SECURITY
# =============================================================================
CORS_ORIGINS=https://fancai.ru
ALLOWED_HOSTS=fancai.ru,www.fancai.ru,localhost

# =============================================================================
# FRONTEND VARIABLES
# =============================================================================
VITE_API_BASE_URL=https://fancai.ru/api/v1
VITE_WS_URL=wss://fancai.ru/ws
VITE_APP_NAME=FanCai - AI Читалка
VITE_DEBUG=false
VITE_ENVIRONMENT=production

# =============================================================================
# MONITORING (Optional)
# =============================================================================
PROMETHEUS_ENABLED=false
SENTRY_DSN=

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================
# [ ] 1. Copy this file to .env
# [ ] 2. Set DB_PASSWORD (generate secure password)
# [ ] 3. Set REDIS_PASSWORD (generate secure password)
# [ ] 4. Set SECRET_KEY (generate 64-char secret)
# [ ] 5. Set JWT_SECRET_KEY (generate 64-char secret)
# [ ] 6. Set LANGEXTRACT_API_KEY (get from Google AI Studio)
# [ ] 7. Set DOMAIN_NAME and DOMAIN_URL
# [ ] 8. Place SSL certificates in ./nginx/ssl/
# [ ] 9. Run: docker-compose -f docker-compose.lite.prod.yml up -d
# =============================================================================
